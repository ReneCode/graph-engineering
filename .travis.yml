language: node_js
node_js:
  - "8"

install:
  - npm install -g firebase-tools

script:
  - echo "build the application"
  - yarn test
  - yarn build


deploy:
  - firebase deploy --token $FIREBASE_TOKEN
  on:
    condition: $TRAVIS_BRANCH == "master"

deploy:
  provider: azure_web_apps
  on:
    condition: $TRAVIS_BRANCH != "master"

# after_success:
#  - echo "deploy the application"
